shnitsel.data.shnitsel_db.db_trajectory_group
=============================================

.. py:module:: shnitsel.data.shnitsel_db.db_trajectory_group


Attributes
----------

.. autoapisummary::

   shnitsel.data.shnitsel_db.db_trajectory_group.T


Classes
-------

.. autoapisummary::

   shnitsel.data.shnitsel_db.db_trajectory_group.GroupInfo
   shnitsel.data.shnitsel_db.db_trajectory_group.TrajectoryGroup


Module Contents
---------------

.. py:data:: T

.. py:class:: GroupInfo

   Class to hold auxiliaryt info of a group of Trajectories in ShnitselDB


   .. py:attribute:: group_name
      :type:  str


   .. py:attribute:: group_attributes
      :type:  Dict[str, Any] | None
      :value: None



.. py:class:: TrajectoryGroup(group_info = None, children = None)

   Bases: :py:obj:`xarray.DataTree`


   DataTree node to keep track of a group of trajectories where properties defining the group can be set


   .. py:method:: is_level(target_level)

      Check whether we are at a certain level

      :param target_level: Desired level to check for
      :type target_level: str

      :returns: True if this level satisfies the requirements
      :rtype: bool



   .. py:method:: get_group_info()

      Reconstruct the Group info object from settings stored in this node's attributes

      :returns: The group information
      :rtype: GroupInfo



   .. py:method:: collect_trajectories()

      Function to retrieve all trajectories in this subtree

      :returns: List of all nodes with TrajectoryData type
      :rtype: List[TrajectoryData]



   .. py:method:: map_over_trajectories(map_func, result_as_dict=False, result_var_name = 'result')

      Method to apply a function to all trajectories in this subtree.

      :param map_func: Function to be applied to each individual trajectory in this database structure.
      :type map_func: Callable[[Trajectory], T]
      :param result_as_dict: Whether to return the result as a dict or as a TrajectoryGroup structure. Defaults to False which yields a CompoundGroup.
      :type result_as_dict: bool, optional
      :param result_var_name: The name of the result variable to be assigned in either the result dataset or in the result dict.
      :type result_var_name: str,optional

      :returns: The result, either again as a TrajectoryGroup structure or as a layered dict structure.
      :rtype: TrajectoryGroup|dict



   .. py:method:: merge_with(other)

      Function to merge two TrajectoryGroups into one.

      Called when merging two database states. Will fail if group_info differs between compounds to avoid loss of information.

      :param other: The other CompoundGroup to be merged
      :type other: CompoundGroup

      :raises ValueError: Raised if the compound_info differs.

      :returns: A CompoundGroup object holding the entire merged subtree
      :rtype: CompoundGroup



